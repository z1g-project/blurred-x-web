"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[493],{8471:function(e,t){t.Z={main:"TheatreCategory_main__CzudK",pages:"TheatreCategory_pages__UNude",useless:"TheatreCategory_useless__p9ElA",button:"TheatreCategory_button__238tS",disabled:"TheatreCategory_disabled__tKcSI",sort:"TheatreCategory_sort__pGCep",name:"TheatreCategory_name__Xg+vq",seeAll:"TheatreCategory_seeAll__gesCj",items:"TheatreCategory_items__xWOmJ",item:"TheatreCategory_item__-1Np3",thumbnail:"TheatreCategory_thumbnail__LhS66",shimmerCard:"TheatreCategory_shimmerCard__aPdqs",loading:"TheatreCategory_loading__IwKQD",flex:"TheatreCategory_flex__9Ly9e",expand:"TheatreCategory_expand__zjVTi"}},3374:function(e,t,r){r.d(t,{Z:function(){return o},f:function(){return s}});var n=r(7568),a=r(6042),i=r(9396);let s=e=>"object"==typeof e&&null!==e&&e instanceof Error&&"statusCode"in e;class o{sortParams(e){let t={};for(let r in e){let n=e[r];("string"==typeof n||"number"==typeof n)&&(t[r]=n.toString())}return t}fetch(e,t={}){var r=this;return(0,n.Z)(function*(){let n=yield fetch(new URL(e,r.server),(0,i.Z)((0,a.Z)({},t),{signal:r.signal})),s=yield n.json();if(!n.ok){let o=Error(s.message);throw o.statusCode=s.statusCode,o}return s})()}constructor(e,t){this.server=e,this.signal=t}}},1492:function(e,t,r){var n=r(922),a=r(8294),i=r(2539),s=r(8736),o=r(5710);let l=e=>JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.mainEntity.map(e=>({"@type":"Question",name:e.name,acceptedAnswer:{"@type":"Answer",text:e.acceptedAnswer.text}}))}),c=e=>JSON.stringify({"@context":"https://schema.org","@type":"WebSite",url:e.url,potentialAction:e.potentialAction.map(e=>({"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:e.target.urlTemplate},"query-input":e["query-input"]}))}),h=({title:e,description:t,faq:h,actions:u})=>{let[d]=(0,a.fO)();return(0,n.jsxs)(o.ql,{children:[(0,n.jsx)("title",{children:""===d.title?e||"Holy Unblocker":d.title}),!i.tD&&t&&(0,n.jsx)("meta",{name:"description",content:t}),!i.tD&&h&&(0,n.jsx)("script",{type:"application/ld+json",children:l({mainEntity:h})}),!i.tD&&u&&(0,n.jsx)("script",{type:"application/ld+json",children:c({url:new URL((0,s.k$)("home").path,r.g.location.toString()).toString(),potentialAction:u})})]})};t.Z=h},9488:function(e,t,r){r.d(t,{Jz:function(){return y},hg:function(){return g},sr:function(){return j}});var n=r(7568),a=r(6042),i=r(9396),s=r(9607),o=r(922),l=r(3374),c=r(2539),h=r(8065),u=r(8736),d=r(8471),m=r(2033),f=r(4051),p=r(4822);function g(e){return"loading"in e&&!0===e.loading}class y extends l.Z{show(e){var t=this;return(0,n.Z)(function*(){return yield t.fetch(`./theatre/${e}/`)})()}plays(e){var t=this;return(0,n.Z)(function*(){return yield t.fetch(`./theatre/${e}/plays`,{method:"PUT"})})()}category(e){var t=this;return(0,n.Z)(function*(){return yield t.fetch("./theatre/?"+new URLSearchParams(t.sortParams(e)))})()}}function _({id:e,name:t}){let[r,n]=(0,f.useState)(!1);return(0,o.jsxs)(p.rU,{className:d.Z.item,to:`${(0,u.k$)("theatre player").path}?id=${e}`,title:t,children:[(0,o.jsx)("div",{className:d.Z.thumbnail,"data-loaded":Number(r),children:(0,o.jsx)("img",{alt:"",loading:"lazy",onLoad:()=>n(!0),src:new URL(`./thumbnails/${e}.webp`,c.JM).toString()})}),(0,o.jsx)("div",{className:d.Z.name,children:(0,o.jsx)(h.mj,{ellipsis:!0,children:t})})]})}function x(){return(0,o.jsxs)("div",{className:(0,m.Z)(d.Z.item,d.Z.loading),children:[(0,o.jsx)("div",{className:d.Z.thumbnail}),(0,o.jsx)("div",{className:d.Z.name})]})}function j(e){var{items:t}=e,r=(0,s.Z)(e,["items"]);let n=[];for(let l of t)g(l)?n.push((0,o.jsx)(x,{},l.id)):n.push((0,o.jsx)(_,{id:l.id,name:l.name},l.id));return(0,o.jsx)("div",(0,i.Z)((0,a.Z)({},r),{children:n}))}},9981:function(e,t,r){r.d(t,{dD:function(){return a}});let n=e=>"object"==typeof e&&null!==e&&e instanceof Error,a=e=>n(e)&&"Failed to fetch"===e.message,i=e=>n(e)&&"AbortError"===e.name;t.ZP=i},8493:function(e,t,r){r.r(t);var n=r(7568),a=r(6042),i=r(922),s=r(8294),o=r(1492),l=r(9488),c=r(2539),h=r(9981),u=r(8065),d=r(8471),m=r(4051),f=r(360);let p=()=>(0,i.jsx)(o.Z,{title:"Favorites"}),g=({layout:e})=>{let[t,r]=(0,s.hz)(),{t:o}=(0,f.$G)("theatre"),[g,y]=(0,m.useState)(()=>t.favorites.map(e=>({loading:!0,id:e,category:[]})));return((0,m.useEffect)(()=>{let e=new AbortController;return(0,n.Z)(function*(){let n=new l.Jz(c.YA,e.signal),i=[];for(let s of t.favorites)try{i.push((yield n.show(s)))}catch(o){(0,h.dD)(o)||(console.warn("Unable to fetch entry:",s,o),t.favorites.splice(t.favorites.indexOf(s),1))}r((0,a.Z)({},t)),y(i)})(),()=>e.abort()},[e,r,t]),0===t.favorites.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{}),(0,i.jsx)("main",{className:"error",children:(0,i.jsx)("p",{children:o("noFavorites")})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{})," ",(0,i.jsx)("main",{className:d.Z.main,children:(0,i.jsxs)("section",{children:[(0,i.jsx)("div",{className:d.Z.name,children:(0,i.jsx)("h1",{children:(0,i.jsx)(u.mj,{children:"Favorites"})})}),(0,i.jsx)("div",{className:d.Z.items,children:(0,i.jsx)(l.sr,{items:g})})]})})]})};t.default=g}}]);
//# sourceMappingURL=493.eee31125.chunk.js.map