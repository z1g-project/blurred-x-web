"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[629],{8471:function(e,t){t.Z={main:"TheatreCategory_main__CzudK",pages:"TheatreCategory_pages__UNude",useless:"TheatreCategory_useless__p9ElA",button:"TheatreCategory_button__238tS",disabled:"TheatreCategory_disabled__tKcSI",sort:"TheatreCategory_sort__pGCep",name:"TheatreCategory_name__Xg+vq",seeAll:"TheatreCategory_seeAll__gesCj",items:"TheatreCategory_items__xWOmJ",item:"TheatreCategory_item__-1Np3",thumbnail:"TheatreCategory_thumbnail__LhS66",shimmerCard:"TheatreCategory_shimmerCard__aPdqs",loading:"TheatreCategory_loading__IwKQD",flex:"TheatreCategory_flex__9Ly9e",expand:"TheatreCategory_expand__zjVTi"}},3374:function(e,t,r){r.d(t,{Z:function(){return i},f:function(){return l}});var a=r(7568),n=r(6042),s=r(9396);let l=e=>"object"==typeof e&&null!==e&&e instanceof Error&&"statusCode"in e;class i{sortParams(e){let t={};for(let r in e){let a=e[r];("string"==typeof a||"number"==typeof a)&&(t[r]=a.toString())}return t}fetch(e,t={}){var r=this;return(0,a.Z)(function*(){let a=yield fetch(new URL(e,r.server),(0,s.Z)((0,n.Z)({},t),{signal:r.signal})),l=yield a.json();if(!a.ok){let i=Error(l.message);throw i.statusCode=l.statusCode,i}return l})()}constructor(e,t){this.server=e,this.signal=t}}},1492:function(e,t,r){var a=r(922),n=r(8294),s=r(2539),l=r(8736),i=r(5710);let o=e=>JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.mainEntity.map(e=>({"@type":"Question",name:e.name,acceptedAnswer:{"@type":"Answer",text:e.acceptedAnswer.text}}))}),c=e=>JSON.stringify({"@context":"https://schema.org","@type":"WebSite",url:e.url,potentialAction:e.potentialAction.map(e=>({"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:e.target.urlTemplate},"query-input":e["query-input"]}))}),u=({title:e,description:t,faq:u,actions:d})=>{let[m]=(0,n.fO)();return(0,a.jsxs)(i.ql,{children:[(0,a.jsx)("title",{children:""===m.title?e||"Holy Unblocker":m.title}),!s.tD&&t&&(0,a.jsx)("meta",{name:"description",content:t}),!s.tD&&u&&(0,a.jsx)("script",{type:"application/ld+json",children:o({mainEntity:u})}),!s.tD&&d&&(0,a.jsx)("script",{type:"application/ld+json",children:c({url:new URL((0,l.k$)("home").path,r.g.location.toString()).toString(),potentialAction:d})})]})};t.Z=u},1558:function(e,t,r){r.d(t,{Z:function(){return c}});var a=r(7568),n=r(3374);class s extends n.Z{compat(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch(`./compat/${e}/`)})()}}var l=r(2539),i=r(3193),o=r(8736);function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(function*(e,t){let r;if("automatic"===t){let{host:a}=new URL(e),c=new s(l.YA);try{t=(yield c.compat(a)).proxy}catch(u){t=l.nY,(0,n.f)(u)&&"Not Found"!==u.message||console.error("Failure fetching Compat data:",u)}}switch(t){case"stomp":r=(0,o.k$)("compat stomp").path;break;case"ultraviolet":r=(0,o.k$)("compat ultraviolet").path;break;default:r=(0,o.k$)("compat rammerhead").path}return`${r}#${(0,i.l)(e)}`})).apply(this,arguments)}},9488:function(e,t,r){r.d(t,{Jz:function(){return y},hg:function(){return p},sr:function(){return j}});var a=r(7568),n=r(6042),s=r(9396),l=r(9607),i=r(922),o=r(3374),c=r(2539),u=r(8065),d=r(8736),m=r(8471),h=r(2033),f=r(4051),v=r(4822);function p(e){return"loading"in e&&!0===e.loading}class y extends o.Z{show(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch(`./theatre/${e}/`)})()}plays(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch(`./theatre/${e}/plays`,{method:"PUT"})})()}category(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch("./theatre/?"+new URLSearchParams(t.sortParams(e)))})()}}function _({id:e,name:t}){let[r,a]=(0,f.useState)(!1);return(0,i.jsxs)(v.rU,{className:m.Z.item,to:`${(0,d.k$)("theatre player").path}?id=${e}`,title:t,children:[(0,i.jsx)("div",{className:m.Z.thumbnail,"data-loaded":Number(r),children:(0,i.jsx)("img",{alt:"",loading:"lazy",onLoad:()=>a(!0),src:new URL(`./thumbnails/${e}.webp`,c.JM).toString()})}),(0,i.jsx)("div",{className:m.Z.name,children:(0,i.jsx)(u.mj,{ellipsis:!0,children:t})})]})}function x(){return(0,i.jsxs)("div",{className:(0,h.Z)(m.Z.item,m.Z.loading),children:[(0,i.jsx)("div",{className:m.Z.thumbnail}),(0,i.jsx)("div",{className:m.Z.name})]})}function j(e){var{items:t}=e,r=(0,l.Z)(e,["items"]);let a=[];for(let o of t)p(o)?a.push((0,i.jsx)(x,{},o.id)):a.push((0,i.jsx)(_,{id:o.id,name:o.name},o.id));return(0,i.jsx)("div",(0,s.Z)((0,n.Z)({},r),{children:a}))}},9981:function(e,t,r){r.d(t,{dD:function(){return n}});let a=e=>"object"==typeof e&&null!==e&&e instanceof Error,n=e=>a(e)&&"Failed to fetch"===e.message,s=e=>a(e)&&"AbortError"===e.name;t.ZP=s},5629:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var a=r(7568),n=r(6042),s=r(9396),l=r(922),i=r(3081),o=r(8294),c=r(1492),u=r(1558),d=r(9488),m=r(2539),h=r(3193),f=r(9981),v=r(8065),p=r(8736),y={main:"TheatrePlayer_main__yoKT3",title:"TheatrePlayer_title__rELzt",name:"TheatrePlayer_name__TTJf9",shiftRight:"TheatrePlayer_shiftRight__bxacM",button:"TheatrePlayer_button__fDZPF",frame:"TheatrePlayer_frame__awoFn",iframeContainer:"TheatrePlayer_iframeContainer__Pw7Ja",iframeCover:"TheatrePlayer_iframeCover__7NerH",controls:"TheatrePlayer_controls__tHTkP",close:"TheatrePlayer_close__1kNlR",control:"TheatrePlayer_control__nPSEY",visuals:"TheatrePlayer_visuals__+mFH0",move:"TheatrePlayer_move__WUzVE",controlKey:"TheatrePlayer_controlKey__OLz00",keySpace:"TheatrePlayer_keySpace__6uvwT",keyEnter:"TheatrePlayer_keyEnter__4xgyf",label:"TheatrePlayer_label__HpQpS",loading:"TheatrePlayer_loading__0tvwe",shimmerWide:"TheatrePlayer_shimmerWide__mv1lE",shimmerCard:"TheatrePlayer_shimmerCard__C2McA",shimmerSmall:"TheatrePlayer_shimmerSmall__ukzYl"},_=r(475),x=r(4578),j=r(5983),g=r(3002),Z=r(7908),b=r(7682),N=r(6545),T=r(4326),w=r(7144),C=r(3721),S=r(8924),k=r(2033),P=r(4051),E=r(360),L=r(4822);function z(){return(z=(0,a.Z)(function*(e,t,r){switch(t){case"proxy":return yield(0,u.Z)(e,r);case"embed":return e;case"flash":return`${(0,p.k$)("compat flash").path}#${(0,h.l)(e)}`;case"emulator":case"emulator.gba":case"emulator.nes":case"emulator.n64":case"emulator.genesis":return new URL("./html5/webretro/?"+new URLSearchParams({rom:e,core:"autodetect"}),m.JM).toString();default:throw TypeError(`Unrecognized target: ${t}`)}})).apply(this,arguments)}let A=({name:e})=>(0,l.jsx)(c.Z,{title:e||"Player",description:e?`${e} on Holy Unblocker.`:void 0}),$=()=>{let{t:e}=(0,E.$G)("theatre"),[t]=(0,L.lr)(),r=t.get("id");if(!r)throw Error("Bad ID");let[c,u]=(0,o.hz)(),[h,p]=(0,P.useState)(()=>c.favorites.includes(r)),[$,U]=(0,P.useState)(!1),[R,F]=(0,P.useState)(!1),[H,K]=(0,P.useState)(null),M=(0,P.useRef)(null),[D,J]=(0,P.useState)(null),V=(0,P.useRef)(null),O=(0,P.useRef)(null),[q,W]=(0,P.useState)(null),G=(0,P.useRef)(null),[I,Y]=(0,P.useState)(()=>c.seenGames.includes(r)),[Q,B]=(0,P.useState)(!0);if((0,P.useEffect)(()=>{let e=new AbortController;function t(){return(t=(0,a.Z)(function*(e){let t=c.seenGames;if(e)t.push(r);else{let a=t.indexOf(r);t.splice(a,1)}u((0,s.Z)((0,n.Z)({},c),{seenGames:t})),Y(e)})).apply(this,arguments)}return(0,a.Z)(function*(){let a=new d.Jz(m.YA,e.signal);try{M.current="Unable to fetch game info";let n=yield a.show(r);M.current=null,M.current="Unable to resolve game location";let s=yield function(e,t,r){return z.apply(this,arguments)}(new URL(n.src,m.JM).toString(),n.type,c.proxy);M.current=null,J(n),W(s),I||(M.current="Unable to update plays",yield a.plays(r),function(e){t.apply(this,arguments)}(!0),M.current=null)}catch(l){(0,f.ZP)(l)||K(String(l))}})(),()=>e.abort()},[I,r,c,u]),(0,P.useEffect)(()=>{function e(){Q&&V.current&&V.current.focus()}return Q&&V.current&&V.current.focus(),document.documentElement.dataset.lockFrameScroll=Number(Q).toString(),window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e),delete document.documentElement.dataset.scroll}},[Q,V]),(0,P.useEffect)(()=>{if(V.current)return Q?document.documentElement.scrollTo(0,0):V.current.blur(),window.addEventListener("click",e),document.documentElement.dataset.lockFrameScroll=Number(Q).toString(),()=>{delete document.documentElement.dataset.lockFrameScroll,window.removeEventListener("click",e)};function e(e){Q&&B(!1)}},[D,Q]),(0,P.useEffect)(()=>{let e=()=>{B(document.fullscreenElement===V.current)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),H)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A,{}),(0,l.jsx)(i.Z,{cause:M.current,error:H,message:e("error.playerEntryLoad")})]});if(!D)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A,{}),(0,l.jsxs)("main",{className:(0,k.Z)(y.main,y.loading),"data-panorama":Number($),"data-controls":Number(R),children:[(0,l.jsx)("div",{className:y.frame}),(0,l.jsxs)("div",{className:y.title,children:[(0,l.jsx)("h3",{className:y.name}),(0,l.jsx)("div",{className:y.shiftRight}),(0,l.jsx)("div",{className:y.button}),(0,l.jsx)("div",{className:y.button}),(0,l.jsx)("div",{className:y.button}),(0,l.jsx)("div",{className:y.button})]})]})]});let X=[];for(let ee of D.controls){let et=[];for(let er of ee.keys)switch(er){case"arrows":et.push((0,l.jsxs)("div",{className:y.move,children:[(0,l.jsx)(x.Z,{className:y.controlKey}),(0,l.jsx)(j.Z,{className:y.controlKey}),(0,l.jsx)(_.Z,{className:y.controlKey}),(0,l.jsx)(g.Z,{className:y.controlKey})]},er));break;case"wasd":et.push((0,l.jsxs)("div",{className:y.move,children:[(0,l.jsx)("div",{className:y.controlKey,children:"W"}),(0,l.jsx)("div",{className:y.controlKey,children:"A"}),(0,l.jsx)("div",{className:y.controlKey,children:"S"}),(0,l.jsx)("div",{className:y.controlKey,children:"D"})]},er));break;default:et.push((0,l.jsx)("div",{className:(0,k.Z)(y.controlKey,y[`key${er}`]),children:er},er))}X.push((0,l.jsxs)("div",{className:y.control,children:[(0,l.jsx)("div",{className:y.visuals,children:et}),(0,l.jsx)("span",{className:y.label,children:ee.label})]},ee.label))}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A,{name:D.name}),(0,l.jsxs)("main",{className:y.main,"data-panorama":Number($),"data-controls":Number(R),children:[(0,l.jsxs)("div",{className:y.frame,children:[(0,l.jsxs)("div",{className:y.iframeContainer,children:[(0,l.jsx)("div",{className:y.iframeCover,title:e("click"),onClick:e=>{e.stopPropagation(),B(!0)}}),(0,l.jsx)("iframe",{ref:V,title:"Embed",src:q||void 0})]}),(0,l.jsxs)("div",{tabIndex:0,className:y.controls,ref:G,onBlur:e=>{e.target.contains(e.relatedTarget)||O.current.contains(e.relatedTarget)||F(!1)},children:[(0,l.jsx)(b.Z,{className:y.close,onClick:()=>F(!1)}),(0,l.jsx)("div",{className:y.controls,children:X})]})]}),(0,l.jsxs)("div",{className:y.title,children:[(0,l.jsx)("h3",{className:y.name,children:(0,l.jsx)(v.mj,{children:D.name})}),(0,l.jsx)("div",{className:y.shiftRight}),(0,l.jsx)("div",{className:y.button,onClick:()=>{V.current.requestFullscreen()},title:e("fullscreen"),children:(0,l.jsx)(N.Z,{})}),0!==X.length&&(0,l.jsx)("div",{className:y.button,tabIndex:0,ref:O,onClick:(0,a.Z)(function*(){F(!R),G.current.focus()}),title:e("controls"),children:(0,l.jsx)(S.Z,{})}),(0,l.jsx)("div",{className:y.button,onClick:()=>{let e=c.favorites,t=e.indexOf(r);-1===t?e.push(r):e.splice(t,1),u((0,s.Z)((0,n.Z)({},c),{favorites:e})),p(e.includes(r))},title:e("favorite"),children:h?(0,l.jsx)(w.Z,{}):(0,l.jsx)(C.Z,{})}),(0,l.jsx)("div",{className:y.button,onClick:(0,a.Z)(function*(){U(!$)}),title:e("panorama"),children:$?(0,l.jsx)(Z.Z,{}):(0,l.jsx)(T.Z,{})})]})]})]})};var U=$},475:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=l},4578:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");t.Z=l},5983:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft");t.Z=l},3002:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");t.Z=l},7908:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=l},7682:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=l},6545:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");t.Z=l},4326:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}),"Panorama");t.Z=l},7144:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=l},3721:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=l},8924:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),l=(0,n.default)((0,s.jsx)("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"VideogameAsset");t.Z=l}}]);
//# sourceMappingURL=629.7d5a1199.chunk.js.map