{"version":3,"file":"static/js/711.773e89e2.chunk.js","mappings":"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","sources":["webpack://website/./src/DatabaseAPI.ts","webpack://website/./src/CompatAPI.ts","webpack://website/./src/ProxyResolver.ts","webpack://website/./src/engines.ts","webpack://website/./src/isAbortError.ts","webpack://website/./src/SearchBuilder.ts","webpack://website/./src/styles/Service.module.scss","webpack://website/./src/ServiceFrame.tsx","webpack://website/./src/aboutBlank.ts","webpack://website/./src/styles/Proxy.module.scss","webpack://website/./src/textContent.ts","webpack://website/./src/pages/proxy.tsx","webpack://website/./node_modules/@mui/icons-material/ChevronLeft.js","webpack://website/./node_modules/@mui/icons-material/Fullscreen.js","webpack://website/./node_modules/@mui/icons-material/NorthWest.js","webpack://website/./node_modules/@mui/icons-material/OpenInNew.js","webpack://website/./node_modules/@mui/icons-material/Search.js"],"sourcesContent":["export interface DatabaseError extends Error {\n\tstatusCode: number;\n\ttype?: string;\n}\n\nexport const isDatabaseError = (error: unknown): error is DatabaseError =>\n\ttypeof error === 'object' &&\n\terror !== null &&\n\terror instanceof Error &&\n\t'statusCode' in error;\n\nexport default class DatabaseAPI {\n\tprivate server: string;\n\tprivate signal?: AbortSignal;\n\tconstructor(server: string, signal?: AbortSignal) {\n\t\tthis.server = server;\n\t\tthis.signal = signal;\n\t}\n\tprotected sortParams(\n\t\tparams: Record<string, unknown>\n\t): Record<string, string> {\n\t\tconst result: Record<string, string> = {};\n\n\t\tfor (const param in params) {\n\t\t\tconst value = params[param];\n\n\t\t\tif (typeof value === 'string' || typeof value === 'number')\n\t\t\t\tresult[param] = value.toString();\n\t\t}\n\n\t\treturn result;\n\t}\n\tasync fetch<JSONData>(url: string, init: RequestInit = {}) {\n\t\tconst outgoing = await fetch(new URL(url, this.server), {\n\t\t\t...init,\n\t\t\tsignal: this.signal,\n\t\t});\n\n\t\tconst json = await outgoing.json();\n\n\t\tif (!outgoing.ok) {\n\t\t\tconst error: Partial<DatabaseError> = new Error(json.message);\n\t\t\terror.statusCode = json.statusCode;\n\t\t\tthrow error;\n\t\t}\n\n\t\treturn json as JSONData;\n\t}\n}\n","import DatabaseAPI from './DatabaseAPI';\n\nexport default class CompatAPI extends DatabaseAPI {\n\tasync compat(host: string) {\n\t\treturn await this.fetch<{ proxy: string }>(`./compat/${host}/`);\n\t}\n}\n","import CompatAPI from './CompatAPI';\nimport { isDatabaseError } from './DatabaseAPI';\nimport { DB_API, DEFAULT_PROXY } from './consts';\nimport { encryptURL } from './cryptURL';\nimport { getHot } from './routes';\n\nexport default async function resolveProxy(src: string, setting: string) {\n\tif (setting === 'automatic') {\n\t\tconst { host } = new URL(src);\n\t\tconst api = new CompatAPI(DB_API);\n\n\t\ttry {\n\t\t\tsetting = (await api.compat(host)).proxy;\n\t\t} catch (err) {\n\t\t\tsetting = DEFAULT_PROXY;\n\n\t\t\tif (!isDatabaseError(err) || err.message === 'Not Found') {\n\t\t\t\t// ignore error to allow loading proxy regardless of errors\n\t\t\t\tconsole.error('Failure fetching Compat data:', err);\n\t\t\t}\n\t\t}\n\t}\n\n\tlet route;\n\n\tswitch (setting) {\n\t\tcase 'stomp':\n\t\t\troute = getHot('compat stomp').path;\n\t\t\tbreak;\n\t\tcase 'ultraviolet':\n\t\t\troute = getHot('compat ultraviolet').path;\n\t\t\tbreak;\n\t\tdefault:\n\t\tcase 'rammerhead':\n\t\t\troute = getHot('compat rammerhead').path;\n\t\t\tbreak;\n\t}\n\n\treturn `${route}#${encryptURL(src)}`;\n}\n","export interface Engine {\n\tname: string;\n\tformat: string;\n}\n\nconst engines: Engine[] = [\n\t{\n\t\tname: 'Google',\n\t\tformat: 'https://www.google.com/search?q=%s',\n\t},\n\t{\n\t\tname: 'DuckDuckGo',\n\t\tformat: 'https://duckduckgo.com/?q=%s',\n\t},\n\t{\n\t\tname: 'Bing',\n\t\tformat: 'https://www.bing.com/search?q=%s',\n\t},\n\t{\n\t\tname: 'Wikipedia',\n\t\tformat: 'https://en.wikipedia.org/wiki/Special:Search?search=%s',\n\t},\n\t{\n\t\tname: 'Reddit',\n\t\tformat: 'https://www.reddit.com/search/?q=%s',\n\t},\n\t{\n\t\tname: 'Hacker News',\n\t\tformat: 'https://hn.algolia.com/?query=%s',\n\t},\n];\n\nexport default engines;\n","export const isError = (err: unknown): err is Error =>\n\ttypeof err === 'object' && err !== null && err instanceof Error;\n\nexport const isFailedToFetch = (err: unknown): err is Error =>\n\tisError(err) && err.message === 'Failed to fetch';\n\nconst isAbortError = (err: unknown): err is Error =>\n\tisError(err) && err.name === 'AbortError';\n\nexport default isAbortError;\n","export const whitespace = /\\s/;\nexport const httpsProtocol = /^https?:\\/\\//;\n\nexport default class SearchBuilder {\n\tprivate template: string;\n\tconstructor(template: string) {\n\t\tthis.template = template;\n\t}\n\tquery(input: string) {\n\t\tinput = String(input);\n\n\t\tif (input.match(httpsProtocol)) {\n\t\t\treturn input;\n\t\t} else if (input.includes('.') && !input.match(whitespace)) {\n\t\t\treturn `http://${input}`;\n\t\t} else {\n\t\t\treturn this.template.replace('%s', encodeURIComponent(input));\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"service\":\"Service_service__ul7lA\",\"headless\":\"Service_headless__4bk12\",\"embed\":\"Service_embed__XWdQs\",\"buttons\":\"Service_buttons__7ADxs\",\"icon\":\"Service_icon__qk9L6\",\"title\":\"Service_title__V7OIa\",\"shiftRight\":\"Service_shiftRight__pVH1y\",\"button\":\"Service_button__yklOb\"};","import type { LayoutDump } from './App';\nimport { isDatabaseError } from './DatabaseAPI';\nimport { useGlobalSettings } from './Layout';\nimport { Notification } from './Notifications';\nimport resolveProxy from './ProxyResolver';\nimport SearchBuilder from './SearchBuilder';\nimport { BARE_API } from './consts';\nimport { decryptURL, encryptURL } from './cryptURL';\nimport i18n from './i18n';\nimport { Obfuscated } from './obfuscate';\nimport styles from './styles/Service.module.scss';\nimport ChevronLeft from '@mui/icons-material/ChevronLeft';\nimport Fullscreen from '@mui/icons-material/Fullscreen';\nimport OpenInNew from '@mui/icons-material/OpenInNew';\nimport Public from '@mui/icons-material/Public';\nimport BareClient from '@tomphttp/bare-client';\nimport { useRef } from 'react';\nimport {\n\tforwardRef,\n\tuseCallback,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseState,\n} from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nexport interface ServiceFrameRef {\n\tproxy: (src: string) => void;\n}\n\nconst ServiceFrame = forwardRef<\n\tServiceFrameRef,\n\t{ layout: LayoutDump['layout'] }\n>(function ServiceFrame({ layout }, ref) {\n\tconst iframe = useRef<HTMLIFrameElement | null>(null);\n\tconst [search, setSearch] = useSearchParams();\n\tconst [firstLoad, setFirstLoad] = useState(false);\n\tconst [revokeIcon, setRevokeIcon] = useState(false);\n\tconst [lastSrc, setLastSrc] = useState('');\n\tconst bare = useMemo(() => new BareClient(BARE_API), []);\n\tconst linksTried = useMemo(() => new WeakMap(), []);\n\tconst [settings] = useGlobalSettings();\n\tconst src = search.has('src') ? decryptURL(search.get('src')!) : '';\n\tconst [title, setTitle] = useState(src);\n\tconst [icon, setIcon] = useState('');\n\n\tuseEffect(() => {\n\t\t// allow querying eg ?q+hello+world\n\t\tif (search.has('q')) {\n\t\t\tconst newQuery = encryptURL(\n\t\t\t\tnew SearchBuilder(settings.search).query(search.get('q')!)\n\t\t\t);\n\t\t\tsearch.delete('q');\n\t\t\tsetSearch({\n\t\t\t\t...Object.fromEntries(search),\n\t\t\t\tsrc: newQuery,\n\t\t\t});\n\t\t}\n\t}, [search, setSearch, settings.search]);\n\n\tuseEffect(() => {\n\t\tif (src) {\n\t\t\t(async function () {\n\t\t\t\tif (!iframe.current || !iframe.current.contentWindow) return;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst proxiedSrc = await resolveProxy(src, settings.proxy);\n\n\t\t\t\t\tiframe.current.contentWindow.location.href = proxiedSrc;\n\t\t\t\t\tsetLastSrc(proxiedSrc);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\tlayout.current!.notifications.current!.add(\n\t\t\t\t\t\t<Notification\n\t\t\t\t\t\t\ttitle={i18n.t('proxy:error.compatibleProxy') as string}\n\t\t\t\t\t\t\tdescription={isDatabaseError(err) ? err.message : String(err)}\n\t\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tsearch.delete('src');\n\n\t\t\t\t\tsetSearch({\n\t\t\t\t\t\t...Object.fromEntries(search),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})();\n\t\t} else {\n\t\t\tif (!iframe.current || !iframe.current.contentWindow) return;\n\n\t\t\tsetFirstLoad(false);\n\t\t\tsetTitle('');\n\t\t\tsetIcon('');\n\t\t\tiframe.current.contentWindow.location.href = 'about:blank';\n\t\t\tsetLastSrc('about:blank');\n\t\t}\n\t}, [iframe, layout, search, setSearch, settings.proxy, src]);\n\n\tuseImperativeHandle(ref, () => ({\n\t\tproxy: (src: string) => {\n\t\t\tsetSearch({\n\t\t\t\t...Object.fromEntries(search),\n\t\t\t\tsrc: encryptURL(src),\n\t\t\t});\n\t\t},\n\t}));\n\n\tuseEffect(() => {\n\t\tfunction focusListener() {\n\t\t\tif (!iframe.current || !iframe.current.contentWindow) return;\n\n\t\t\tiframe.current.contentWindow.focus();\n\t\t}\n\n\t\twindow.addEventListener('focus', focusListener);\n\n\t\treturn () => window.removeEventListener('focus', focusListener);\n\t}, [iframe]);\n\n\tconst testProxyUpdate = useCallback(\n\t\tasync function testProxyUpdate() {\n\t\t\tif (!iframe.current || !iframe.current.contentWindow) return;\n\n\t\t\tconst contentWindow = iframe.current\n\t\t\t\t.contentWindow as unknown as typeof globalThis;\n\n\t\t\t// * didn't hook our call to new Function\n\t\t\ttry {\n\t\t\t\tsetLastSrc(contentWindow.location.href);\n\t\t\t} catch (err) {\n\t\t\t\t// possibly an x-frame error\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst location = new contentWindow.Function('return location')();\n\n\t\t\tif (location === contentWindow.location) setTitle(src);\n\t\t\telse {\n\t\t\t\tconst currentTitle = contentWindow.document.title;\n\n\t\t\t\tsetTitle(currentTitle || location.toString());\n\t\t\t\tconst selector = contentWindow.document.querySelector(\n\t\t\t\t\t'link[rel*=\"icon\"]'\n\t\t\t\t) as HTMLLinkElement | null;\n\n\t\t\t\tconst icon =\n\t\t\t\t\tselector && selector.href !== ''\n\t\t\t\t\t\t? selector.href\n\t\t\t\t\t\t: new URL('/favicon.ico', location).toString();\n\n\t\t\t\tif (!linksTried.has(location)) linksTried.set(location, new Set());\n\n\t\t\t\tif (!linksTried.get(location).has(icon)) {\n\t\t\t\t\tlinksTried.get(location).add(icon);\n\n\t\t\t\t\tconst outgoing = await bare.fetch(icon);\n\n\t\t\t\t\tsetIcon(URL.createObjectURL(await outgoing.blob()));\n\t\t\t\t\tsetRevokeIcon(true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[bare, iframe, linksTried, src]\n\t);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(testProxyUpdate, 50);\n\t\ttestProxyUpdate();\n\t\treturn () => clearInterval(interval);\n\t}, [testProxyUpdate]);\n\n\tuseEffect(() => {\n\t\tdocument.documentElement.dataset.service = Number(Boolean(src)).toString();\n\n\t\treturn () => {\n\t\t\tdelete document.documentElement.dataset.service;\n\t\t};\n\t}, [src]);\n\n\treturn (\n\t\t<div className={styles.service}>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t<ChevronLeft\n\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsearch.delete('src');\n\t\t\t\t\t\tsetSearch(search);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{icon ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={styles.icon}\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\tsrc={icon}\n\t\t\t\t\t\tonError={() => setIcon('')}\n\t\t\t\t\t\tonLoad={() => {\n\t\t\t\t\t\t\tif (revokeIcon) {\n\t\t\t\t\t\t\t\tURL.revokeObjectURL(icon);\n\t\t\t\t\t\t\t\tsetRevokeIcon(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Public className={styles.icon} />\n\t\t\t\t)}\n\t\t\t\t<p className={styles.title}>\n\t\t\t\t\t<Obfuscated ellipsis>{title}</Obfuscated>\n\t\t\t\t</p>\n\t\t\t\t<div className={styles.shiftRight}></div>\n\t\t\t\t<a href={lastSrc} className={styles.button}>\n\t\t\t\t\t<OpenInNew />\n\t\t\t\t</a>\n\t\t\t\t<Fullscreen\n\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\tonClick={() => iframe.current && iframe.current.requestFullscreen()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<iframe\n\t\t\t\tclassName={styles.embed}\n\t\t\t\ttitle=\"embed\"\n\t\t\t\tref={iframe}\n\t\t\t\tdata-first-load={Number(firstLoad)}\n\t\t\t\tonLoad={() => {\n\t\t\t\t\ttestProxyUpdate();\n\n\t\t\t\t\tif (src !== '') {\n\t\t\t\t\t\tsetFirstLoad(true);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t></iframe>\n\t\t</div>\n\t);\n});\n\nexport default ServiceFrame;\n","const presentAboutBlank = (src: string) => {\n\tconst newWindow = window.open('about:blank');\n\n\tif (!newWindow) throw new Error(`Could not create new window`);\n\n\tnewWindow.addEventListener(\n\t\t'DOMContentLoaded',\n\t\t() => {\n\t\t\tconst iframe = newWindow.document.createElement('iframe');\n\t\t\tiframe.src = src;\n\t\t\t// expand iframe to fit window\n\t\t\tiframe.style.border = 'none';\n\t\t\tiframe.style.position = 'absolute';\n\t\t\tiframe.style.top = '0px';\n\t\t\tiframe.style.left = '0px';\n\t\t\tiframe.style.width = '100%';\n\t\t\tiframe.style.height = '100%';\n\t\t\tnewWindow.document.body.append(iframe);\n\t\t},\n\t\t// immediately attempt to dereference iframe\n\t\t{ once: true }\n\t);\n};\n\nexport default presentAboutBlank;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Proxy_main__vxt+E\",\"omnibox\":\"Proxy_omnibox__nEWjd\",\"search\":\"Proxy_search__WxDKx\",\"open\":\"Proxy_open__aa9a6\",\"ThemeInputBar\":\"Proxy_ThemeInputBar__bHDgn\",\"suggested\":\"Proxy_suggested__hP0AO\",\"option\":\"Proxy_option__wdCHG\",\"hover\":\"Proxy_hover__I66Fw\",\"text\":\"Proxy_text__kDytJ\"};","const buffer = /*#__PURE__*/ document.createElement('div');\n\n/**\n * Sanitizes raw HTML using native APIs\n * @param html\n * @returns\n */\nexport default function textContent(html: string) {\n\tbuffer.innerHTML = html;\n\tconst { textContent } = buffer;\n\tbuffer.innerHTML = '';\n\treturn textContent!;\n}\n","import type { HolyPage, LayoutDump } from '../App';\nimport { useGlobalSettings } from '../Layout';\nimport Meta from '../Meta';\nimport resolveProxy from '../ProxyResolver';\nimport SearchBuilder from '../SearchBuilder';\nimport ServiceFrame from '../ServiceFrame';\nimport type { ServiceFrameRef } from '../ServiceFrame';\nimport { ThemeInputBar, ThemeLink, themeStyles } from '../ThemeElements';\nimport presentAboutBlank from '../aboutBlank';\nimport { BARE_API } from '../consts';\nimport engines from '../engines';\nimport isAbortError, { isFailedToFetch } from '../isAbortError';\nimport { Obfuscated } from '../obfuscate';\nimport { getHot } from '../routes';\nimport styles from '../styles/Proxy.module.scss';\nimport textContent from '../textContent';\nimport NorthWest from '@mui/icons-material/NorthWest';\nimport Search from '@mui/icons-material/Search';\nimport BareClient from '@tomphttp/bare-client';\nimport clsx from 'clsx';\nimport type { ReactNode } from 'react';\nimport { createRef, useMemo, useRef, useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nconst SearchBar = ({ layout }: { layout: LayoutDump['layout'] }) => {\n\tconst { t } = useTranslation('proxy');\n\tconst input = useRef<HTMLInputElement | null>(null);\n\tconst inputValue = useRef<string | null>(null);\n\tconst lastInput = useRef<'select' | 'input' | null>(null);\n\tconst [lastSelect, setLastSelect] = useState(-1);\n\tconst [omniboxEntries, setOmniboxEntries] = useState<string[]>([]);\n\tconst [inputFocused, setInputFocused] = useState(false);\n\tconst serviceFrame = useRef<ServiceFrameRef | null>(null);\n\tconst abort = useRef(new AbortController());\n\tconst bare = useMemo(() => new BareClient(BARE_API), []);\n\tconst [settings] = useGlobalSettings();\n\tconst engine =\n\t\tengines.find((engine) => engine.format === settings.search) || engines[0];\n\n\tasync function onInput() {\n\t\tif (inputValue.current !== input.current!.value) {\n\t\t\tinputValue.current = input.current!.value;\n\n\t\t\tconst entries: string[] = [];\n\n\t\t\ttry {\n\t\t\t\tabort.current.abort();\n\t\t\t\tabort.current = new AbortController();\n\n\t\t\t\tconst outgoing = await bare.fetch(\n\t\t\t\t\t'https://www.bing.com/AS/Suggestions?' +\n\t\t\t\t\t\tnew URLSearchParams({\n\t\t\t\t\t\t\tqry: input.current!.value,\n\t\t\t\t\t\t\tcvid: '\\u0001',\n\t\t\t\t\t\t\tbareServer: '',\n\t\t\t\t\t\t}),\n\t\t\t\t\t{\n\t\t\t\t\t\tsignal: abort.current.signal,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (!outgoing.ok) {\n\t\t\t\t\tthrow await outgoing.text();\n\t\t\t\t}\n\n\t\t\t\tconst text = await outgoing.text();\n\n\t\t\t\tfor (const [, phrase] of text.matchAll(\n\t\t\t\t\t/<span class=\"sa_tm_text\">(.*?)<\\/span>/g\n\t\t\t\t))\n\t\t\t\t\tentries.push(phrase);\n\t\t\t} catch (err) {\n\t\t\t\tif (isAbortError(err) || isFailedToFetch(err)) {\n\t\t\t\t\t// likely abort error\n\t\t\t\t\tconsole.error('Error fetching Bare server.');\n\t\t\t\t} else {\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetOmniboxEntries(entries);\n\t\t}\n\t}\n\n\tasync function searchSubmit() {\n\t\tconst value =\n\t\t\tlastSelect === -1 || lastInput.current === 'input'\n\t\t\t\t? input.current!.value\n\t\t\t\t: textContent(omniboxEntries[lastSelect]);\n\n\t\tinput.current!.value = value;\n\n\t\tconst builder = new SearchBuilder(settings.search);\n\t\tconst src = builder.query(input.current!.value);\n\n\t\tsetInputFocused(false);\n\n\t\tswitch (settings.proxyMode) {\n\t\t\tcase 'embedded':\n\t\t\t\tserviceFrame.current!.proxy(src);\n\t\t\t\tbreak;\n\t\t\tcase 'redirect':\n\t\t\t\twindow.location.assign(await resolveProxy(src, settings.proxy));\n\t\t\t\tbreak;\n\t\t\tcase 'about:blank':\n\t\t\t\tpresentAboutBlank(await resolveProxy(src, settings.proxy));\n\t\t\t\tbreak;\n\t\t}\n\n\t\tonInput();\n\t}\n\n\tconst renderSuggested = inputFocused && omniboxEntries.length !== 0;\n\n\tconst form = useRef<HTMLFormElement | null>(null);\n\tconst suggested = useRef<HTMLDivElement | null>(null);\n\n\treturn (\n\t\t<>\n\t\t\t<ServiceFrame ref={serviceFrame} layout={layout} />\n\t\t\t<form\n\t\t\t\tclassName={styles.omnibox}\n\t\t\t\tdata-suggested={Number(renderSuggested)}\n\t\t\t\tdata-focused={Number(inputFocused)}\n\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tsearchSubmit();\n\t\t\t\t}}\n\t\t\t\tonBlur={(event) => {\n\t\t\t\t\tif (!form.current!.contains(event.relatedTarget)) {\n\t\t\t\t\t\tsetInputFocused(false);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tref={form}\n\t\t\t>\n\t\t\t\t<ThemeInputBar className={styles.ThemeInputBar}>\n\t\t\t\t\t<Search className={themeStyles.icon} />\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder={t('search', {\n\t\t\t\t\t\t\tengine: engine.name,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\trequired={lastSelect === -1}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tclassName={themeStyles.thinPadLeft}\n\t\t\t\t\t\tref={input}\n\t\t\t\t\t\tonInput={onInput}\n\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\tonInput();\n\t\t\t\t\t\t\tsetInputFocused(true);\n\t\t\t\t\t\t\tsetLastSelect(-1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonInput();\n\t\t\t\t\t\t\tsetInputFocused(true);\n\t\t\t\t\t\t\tsetLastSelect(-1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\tlastInput.current = 'input';\n\t\t\t\t\t\t\tsetLastSelect(-1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\tlet preventDefault = true;\n\n\t\t\t\t\t\t\tswitch (event.code) {\n\t\t\t\t\t\t\t\tcase 'Escape':\n\t\t\t\t\t\t\t\t\tsetInputFocused(false);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tconst lastI = lastSelect;\n\n\t\t\t\t\t\t\t\t\t\tlet next: number | undefined;\n\n\t\t\t\t\t\t\t\t\t\tswitch (event.code) {\n\t\t\t\t\t\t\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\t\t\t\t\t\t\tif (lastI >= omniboxEntries.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext = lastI + 1;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\t\t\t\t\t\t\tif (lastI <= 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext = omniboxEntries.length - 1;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext = lastI - 1;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t// no default\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tlastInput.current = 'select';\n\n\t\t\t\t\t\t\t\t\t\tsetLastSelect(next);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tpreventDefault = false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// no default\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preventDefault) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</ThemeInputBar>\n\t\t\t\t<div\n\t\t\t\t\tref={suggested}\n\t\t\t\t\tclassName={styles.suggested}\n\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\tsetLastSelect(-1);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderSuggested &&\n\t\t\t\t\t\tomniboxEntries.map((entry, i) => {\n\t\t\t\t\t\t\tconst text = createRef<HTMLSpanElement>();\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\tstyles.option,\n\t\t\t\t\t\t\t\t\t\ti === lastSelect && styles.hover\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlastInput.current = 'select';\n\t\t\t\t\t\t\t\t\t\tinput.current!.value = text.current!.textContent!;\n\t\t\t\t\t\t\t\t\t\tsearchSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonMouseOver={() => {\n\t\t\t\t\t\t\t\t\t\tsetLastSelect(i);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Search className={styles.search} />\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={styles.text}\n\t\t\t\t\t\t\t\t\t\tref={text}\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: entry,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<NorthWest className={styles.open} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n\nconst FAQLink = ({ children }: { children?: ReactNode }) => (\n\t<ThemeLink to={getHot('faq').path}>\n\t\t<Obfuscated>{children}</Obfuscated>\n\t</ThemeLink>\n);\n\nconst ProxyMeta = () => (\n\t<Meta\n\t\ttitle=\"Proxy\"\n\t\tdescription=\"Bypass blocks on your internet traffic with Holy Unblocker's web proxy.\"\n\t\tfaq={[\n\t\t\t{\n\t\t\t\tname: 'What web proxies does Holy Unblocker have?',\n\t\t\t\tacceptedAnswer: {\n\t\t\t\t\ttext: 'Ultraviolet, Rammerhead, and Stomp. You can change the default proxy in your settings.',\n\t\t\t\t},\n\t\t\t},\n\t\t]}\n\t\tactions={[\n\t\t\t{\n\t\t\t\ttarget: {\n\t\t\t\t\turlTemplate:\n\t\t\t\t\t\tnew URL(getHot('proxy').path, global.location.toString()) +\n\t\t\t\t\t\t'?q={search_term_string}',\n\t\t\t\t},\n\t\t\t\t'query-input': 'required name=search_term_string',\n\t\t\t},\n\t\t]}\n\t/>\n);\n\nconst Proxies: HolyPage = ({ layout }) => {\n\tconst { t } = useTranslation('proxy');\n\n\treturn (\n\t\t<>\n\t\t\t<ProxyMeta />\n\t\t\t<main className={styles.main}>\n\t\t\t\t<SearchBar layout={layout} />\n\t\t\t\t<p>\n\t\t\t\t\t<Trans t={t} i18nKey=\"faq\" components={[<FAQLink />]} />\n\t\t\t\t</p>\n\t\t\t</main>\n\t\t</>\n\t);\n};\n\nexport default Proxies;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n}), 'Fullscreen');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 15h2V8.41L18.59 20 20 18.59 8.41 7H15V5H5v10z\"\n}), 'NorthWest');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'OpenInNew');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\nexports.default = _default;"],"names":["isDatabaseError","error","Error","DatabaseAPI","params","result","param","value","toString","url","init","outgoing","fetch","URL","server","signal","json","ok","message","statusCode","constructor","CompatAPI","host","resolveProxy","src","setting","route","api","DB_API","compat","proxy","err","DEFAULT_PROXY","console","getHot","path","encryptURL","name","format","isError","isFailedToFetch","isAbortError","whitespace","httpsProtocol","SearchBuilder","query","input","String","match","includes","template","replace","encodeURIComponent","ServiceFrame","forwardRef","layout","ref","testProxyUpdate","iframe","useRef","search","setSearch","useSearchParams","firstLoad","setFirstLoad","useState","revokeIcon","setRevokeIcon","lastSrc","setLastSrc","bare","useMemo","BareClient","BARE_API","linksTried","WeakMap","settings","useGlobalSettings","has","decryptURL","get","title","setTitle","icon","setIcon","useEffect","newQuery","delete","Object","fromEntries","current","contentWindow","proxiedSrc","location","href","notifications","add","Notification","i18n","description","type","useImperativeHandle","focusListener","focus","window","addEventListener","removeEventListener","useCallback","Function","currentTitle","document","selector","querySelector","set","Set","createObjectURL","blob","interval","setInterval","clearInterval","documentElement","dataset","service","Number","Boolean","div","className","styles","ChevronLeft","onClick","img","alt","onError","onLoad","revokeObjectURL","Public","p","Obfuscated","ellipsis","a","OpenInNew","Fullscreen","requestFullscreen","data-first-load","presentAboutBlank","newWindow","open","createElement","style","border","position","top","left","width","height","body","append","once","buffer","SearchBar","t","useTranslation","inputValue","lastInput","lastSelect","setLastSelect","omniboxEntries","setOmniboxEntries","inputFocused","setInputFocused","serviceFrame","abort","AbortController","engine","engines","onInput","entries","URLSearchParams","qry","cvid","bareServer","text","phrase","matchAll","push","searchSubmit","textContent","html","innerHTML","builder","proxyMode","assign","renderSuggested","length","form","suggested","data-suggested","data-focused","onSubmit","event","preventDefault","onBlur","contains","relatedTarget","ThemeInputBar","Search","themeStyles","placeholder","required","autoComplete","onFocus","onChange","onKeyDown","code","next","lastI","onMouseLeave","map","entry","i","createRef","tabIndex","clsx","onMouseOver","span","dangerouslySetInnerHTML","__html","NorthWest","FAQLink","children","ThemeLink","to","ProxyMeta","Meta","faq","acceptedAnswer","actions","target","urlTemplate","global","Proxies","main","Trans","i18nKey","components","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}