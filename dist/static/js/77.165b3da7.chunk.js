"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[77],{8471:function(e,t){t.Z={main:"TheatreCategory_main__CzudK",pages:"TheatreCategory_pages__UNude",useless:"TheatreCategory_useless__p9ElA",button:"TheatreCategory_button__238tS",disabled:"TheatreCategory_disabled__tKcSI",sort:"TheatreCategory_sort__pGCep",name:"TheatreCategory_name__Xg+vq",seeAll:"TheatreCategory_seeAll__gesCj",items:"TheatreCategory_items__xWOmJ",item:"TheatreCategory_item__-1Np3",thumbnail:"TheatreCategory_thumbnail__LhS66",shimmerCard:"TheatreCategory_shimmerCard__aPdqs",loading:"TheatreCategory_loading__IwKQD",flex:"TheatreCategory_flex__9Ly9e",expand:"TheatreCategory_expand__zjVTi"}},3374:function(e,t,r){r.d(t,{Z:function(){return o},f:function(){return i}});var a=r(7568),n=r(6042),s=r(9396);let i=e=>"object"==typeof e&&null!==e&&e instanceof Error&&"statusCode"in e;class o{sortParams(e){let t={};for(let r in e){let a=e[r];("string"==typeof a||"number"==typeof a)&&(t[r]=a.toString())}return t}fetch(e,t={}){var r=this;return(0,a.Z)(function*(){let a=yield fetch(new URL(e,r.server),(0,s.Z)((0,n.Z)({},t),{signal:r.signal})),i=yield a.json();if(!a.ok){let o=Error(i.message);throw o.statusCode=i.statusCode,o}return i})()}constructor(e,t){this.server=e,this.signal=t}}},1492:function(e,t,r){var a=r(922),n=r(8294),s=r(2539),i=r(8736),o=r(5710);let l=e=>JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.mainEntity.map(e=>({"@type":"Question",name:e.name,acceptedAnswer:{"@type":"Answer",text:e.acceptedAnswer.text}}))}),c=e=>JSON.stringify({"@context":"https://schema.org","@type":"WebSite",url:e.url,potentialAction:e.potentialAction.map(e=>({"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:e.target.urlTemplate},"query-input":e["query-input"]}))}),u=({title:e,description:t,faq:u,actions:h})=>{let[d]=(0,n.fO)();return(0,a.jsxs)(o.ql,{children:[(0,a.jsx)("title",{children:""===d.title?e||"Blurred X":d.title}),!s.tD&&t&&(0,a.jsx)("meta",{name:"description",content:t}),!s.tD&&u&&(0,a.jsx)("script",{type:"application/ld+json",children:l({mainEntity:u})}),!s.tD&&h&&(0,a.jsx)("script",{type:"application/ld+json",children:c({url:new URL((0,i.k$)("home").path,r.g.location.toString()).toString(),potentialAction:h})})]})};t.Z=u},9488:function(e,t,r){r.d(t,{Jz:function(){return f},hg:function(){return y},sr:function(){return j}});var a=r(7568),n=r(6042),s=r(9396),i=r(9607),o=r(922),l=r(3374),c=r(2539),u=r(8065),h=r(8736),d=r(8471),m=r(2033),g=r(4051),p=r(4822);function y(e){return"loading"in e&&!0===e.loading}class f extends l.Z{show(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch(`./theatre/${e}/`)})()}plays(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch(`./theatre/${e}/plays`,{method:"PUT"})})()}category(e){var t=this;return(0,a.Z)(function*(){return yield t.fetch("./theatre/?"+new URLSearchParams(t.sortParams(e)))})()}}function _({id:e,name:t}){let[r,a]=(0,g.useState)(!1);return(0,o.jsxs)(p.rU,{className:d.Z.item,to:`${(0,h.k$)("theatre player").path}?id=${e}`,title:t,children:[(0,o.jsx)("div",{className:d.Z.thumbnail,"data-loaded":Number(r),children:(0,o.jsx)("img",{alt:"",loading:"lazy",onLoad:()=>a(!0),src:new URL(`./thumbnails/${e}.webp`,c.JM).toString()})}),(0,o.jsx)("div",{className:d.Z.name,children:(0,o.jsx)(u.mj,{ellipsis:!0,children:t})})]})}function x(){return(0,o.jsxs)("div",{className:(0,m.Z)(d.Z.item,d.Z.loading),children:[(0,o.jsx)("div",{className:d.Z.thumbnail}),(0,o.jsx)("div",{className:d.Z.name})]})}function j(e){var{items:t}=e,r=(0,i.Z)(e,["items"]);let a=[];for(let l of t)y(l)?a.push((0,o.jsx)(x,{},l.id)):a.push((0,o.jsx)(_,{id:l.id,name:l.name},l.id));return(0,o.jsx)("div",(0,s.Z)((0,n.Z)({},r),{children:a}))}},1385:function(e,t,r){r.d(t,{Z:function(){return j}});var a=r(7568),n=r(922),s=r(9488),i=r(168),o=r(2539),l=r(6184),c=r(9981),u=r(8065),h=r(8736),d={search:"TheatreSearch_search__Y6zTt",ThemeInputBar:"TheatreSearch_ThemeInputBar__7rO3t",suggested:"TheatreSearch_suggested__Xp4hS",option:"TheatreSearch_option__7xsG7",hover:"TheatreSearch_hover__FmvBZ",name:"TheatreSearch_name__MPb8q",category:"TheatreSearch_category__aHjMH"},m=r(5320),g=r(2033),p=r(4051),y=r(360),f=r(6732),_=r(4822);let x=({category:e,placeholder:t,showCategory:r})=>{let{t:x}=(0,y.$G)("gameCategory"),j=(0,f.s0)(),Z=(0,p.useRef)(null),v=(0,p.useRef)(null),[C,b]=(0,p.useState)({total:0,entries:[]}),[w,S]=(0,p.useState)(-1),[T,N]=(0,p.useState)(!1),A=(0,p.useRef)(new AbortController);function $(e){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(function*(t){A.current.abort(),A.current=new AbortController;let r=new s.Jz(o.YA,A.current.signal);try{let a=yield r.category({sort:"search",search:t,limit:8,category:e});b(a)}catch(n){(0,c.ZP)(n)||console.error(n)}})).apply(this,arguments)}let P=T&&0!==C.entries.length;return(0,n.jsxs)("div",{className:d.search,"data-focused":Number(T),"data-suggested":Number(P),ref:v,onBlur:e=>{v.current.contains(e.relatedTarget)||N(!1)},children:[(0,n.jsxs)(i.M8,{className:d.ThemeInputBar,children:[(0,n.jsx)(m.Z,{className:i.lx.icon}),(0,n.jsx)("input",{ref:Z,type:"text",className:i.lx.thinPadLeft,placeholder:t,onFocus:()=>{N(!0),S(-1),$(Z.current.value)},onClick:()=>{N(!0),S(-1),$(Z.current.value)},onKeyDown:e=>{let t=!0;switch(e.code){case"Escape":N(!1);break;case"ArrowDown":case"ArrowUp":{let r;switch(e.code){case"ArrowDown":r=w>=C.entries.length-1?0:w+1;break;case"ArrowUp":r=w<=0?C.entries.length-1:w-1}S(r)}break;case"Enter":{let a=C.entries[w];a&&(Z.current.blur(),N(!1),j(`${(0,h.k$)("theatre player").path}?id=${a.id}`))}break;default:t=!1}t&&e.preventDefault()},onChange:e=>{$(e.target.value),S(-1)}})]}),(0,n.jsx)("div",{className:d.suggested,onMouseLeave:()=>{S(-1)},children:P&&C.entries.map((e,t)=>{var a;return(0,n.jsxs)(_.rU,{tabIndex:0,onClick:()=>N(!1),onMouseOver:()=>S(t),to:`${(0,h.k$)("theatre player").path}?id=${e.id}`,title:e.name,className:(0,g.Z)(d.option,t===w&&d.hover),children:[(0,n.jsx)("div",{className:d.name,children:(0,n.jsx)(u.mj,{ellipsis:!0,children:e.name})}),r&&e.category[0]&&(0,n.jsx)("div",{className:d.category,children:x(null===(a=l.Z.find(t=>t.id===e.category[0]))||void 0===a?void 0:a.id)})]},e.id)})})]})};var j=x},9981:function(e,t,r){r.d(t,{dD:function(){return n}});let a=e=>"object"==typeof e&&null!==e&&e instanceof Error,n=e=>a(e)&&"Failed to fetch"===e.message,s=e=>a(e)&&"AbortError"===e.name;t.ZP=s},3077:function(e,t,r){r.r(t);var a=r(7568),n=r(922),s=r(3081),i=r(1492),o=r(9488),l=r(1385),c=r(168),u=r(2539),h=r(6184),d=r(9981),m=r(8736),g=r(8471),p=r(1501),y=r(2033),f=r(4051),_=r(360);let x={total:0,entries:[],loading:!0};for(let j of h.Z)for(let Z=0;Z<8;Z++)x.entries.push({id:Z.toString(),loading:!0,category:[j.id]});let v=h.Z.map(e=>e.id).join(","),C=()=>(0,n.jsx)(i.Z,{title:"Popular Games",description:"Popular games on Blurred X."}),b=()=>{let{t:e}=(0,_.$G)(["theatre","gameCategory"]),[t,r]=(0,f.useState)(x),[i,j]=(0,f.useState)(null);if((0,f.useEffect)(()=>{let e=new AbortController;return(0,a.Z)(function*(){let t=new o.Jz(u.YA,e.signal);try{let a=yield t.category({sort:"plays",category:v,limitPerCategory:8});r(a)}catch(n){(0,d.ZP)(n)||(console.error(n),j(String(n)))}})(),()=>e.abort()},[]),i)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{}),(0,n.jsx)(s.Z,{error:i,message:e("theatre:error.popularGamesLoad")})]});let Z={};for(let b of h.Z)Z[b.id]={entries:[],category:b};for(let w of t.entries)Z[w.category[0]].entries.push(w);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{})," ",(0,n.jsxs)("main",{className:g.Z.main,children:[(0,n.jsx)(l.Z,{showCategory:!0,category:v,placeholder:e("theatre:searchByGame")}),Object.values(Z).map(t=>{return(0,n.jsxs)("section",{className:g.Z.expand,children:[(0,n.jsxs)("div",{className:g.Z.name,children:[(0,n.jsx)("h1",{children:e(`gameCategory:${t.category.id}`).toString()}),(0,n.jsxs)(c.Vo,{to:`${(0,m.k$)("theatre games category").path}?id=${t.category.id}`,className:g.Z.seeAll,children:[e("theatre:seeAll"),(0,n.jsx)(p.Z,{})]})]}),(0,n.jsx)(o.sr,{className:(0,y.Z)(g.Z.items,g.Z.flex),items:t.entries})]},t.category.id)})]})]})};t.default=b},1501:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),i=(0,n.default)((0,s.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=i},5320:function(e,t,r){var a=r(4470);t.Z=void 0;var n=a(r(5684)),s=r(922),i=(0,n.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=i}}]);
//# sourceMappingURL=77.165b3da7.chunk.js.map